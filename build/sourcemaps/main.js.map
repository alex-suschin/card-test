{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/main.js","sourcesContent":["$(function() {\r\n\r\n    $(window).on('load', function() {\r\n        let phones = [\r\n            { 'mask': '+7 \\\\ \\\\ ###-###-##-##' }\r\n        ];\r\n\r\n        $('input[type=tel]').inputmask({\r\n            mask: phones,\r\n            greedy: false,\r\n            definitions: {\r\n                '#': {\r\n                    validator: '[0-9]',\r\n                    cardinality: 1\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    $('select').niceSelect();\r\n\r\n    $('.desc-product-btns a').click(function() {\r\n        $('.desc-product-btns').find('.active').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('.desc-product-elems').find('.desc-product-elem').hide();\r\n        $('#' + $(this).data('switch')).show();\r\n    });\r\n\r\n    jQuery('<div class=\"quantity-nav\"><div class=\"quantity-button quantity-up\"></div><div class=\"quantity-button quantity-down\"></div></div>').insertAfter('.quantity input');\r\n    jQuery('.quantity').each(function() {\r\n        var spinner = jQuery(this),\r\n            input = spinner.find('input[type=\"number\"]'),\r\n            btnUp = spinner.find('.quantity-up'),\r\n            btnDown = spinner.find('.quantity-down'),\r\n            min = input.attr('min'),\r\n            max = input.attr('max');\r\n\r\n        btnUp.click(function() {\r\n            var oldValue = parseFloat(input.val());\r\n            if (oldValue >= max) {\r\n                var newVal = oldValue;\r\n            } else {\r\n                var newVal = oldValue + 1;\r\n            }\r\n            spinner.find(\"input\").val(newVal);\r\n            spinner.find(\"input\").trigger(\"change\");\r\n        });\r\n\r\n        btnDown.click(function() {\r\n            var oldValue = parseFloat(input.val());\r\n            if (oldValue <= min) {\r\n                var newVal = oldValue;\r\n            } else {\r\n                var newVal = oldValue - 1;\r\n            }\r\n            spinner.find(\"input\").val(newVal);\r\n            spinner.find(\"input\").trigger(\"change\");\r\n        });\r\n\r\n    });\r\n\r\n    $('.card-img-small .card-img-small-item').click(function() {\r\n        $(this).closest('.card-imgs').find('.card-img-big>.card-img-big-item>a>img').attr('src', $(this).find('img').attr('src'));\r\n        $(this).closest('.card-imgs').find('.card-img-big>.card-img-big-item>a').attr('href', $(this).find('img').attr('src'));\r\n        $(this).closest('.card-imgs').find('.card-img-small-item').removeClass('active');\r\n        $(this).addClass('active');\r\n    });\r\n\r\n    function calcPercent() {\r\n        var oldPrice = $('.old-price span').text();\r\n        var oldPriceNum = oldPrice.replace(/\\s+/g, '');\r\n\r\n        var saleVal = $('.card-sale i').text();\r\n        var saleValNum = saleVal.replace(/\\s+/g, '');\r\n\r\n        var pricePercent = oldPriceNum * (saleValNum / 100);\r\n\r\n        var newPriceText = (oldPriceNum - pricePercent);\r\n        var newPriceTextN = newPriceText.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n\r\n        var newPrice = $('.new-price span').text(newPriceTextN);\r\n\r\n        var pricePercentN = pricePercent.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n        $('.save-money b').text(pricePercentN);\r\n    }\r\n\r\n    calcPercent();\r\n\r\n    $(document).on('change', '.size-radio-items .input-price', function() {\r\n        var $target = $(event.target)\r\n        $(\".card-price\").find(\".old-price span\").text($target.data(\"price\"))\r\n        calcPercent();\r\n    });\r\n\r\n    var oldPriceM = $('.old-price span').text();\r\n\r\n    $('#col-product').on('change', function() {\r\n        var consPrice = oldPriceM;\r\n        var nowPriceNum = consPrice.replace(/\\s+/g, '');\r\n        var colTotal = nowPriceNum * $(this).val();\r\n        var colTotalN = colTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n        $('.old-price span').text(colTotalN);\r\n        calcPercent();\r\n    });\r\n\r\n    $('.test-popup-link').magnificPopup({\r\n        type: 'image'\r\n    });\r\n\r\n    $('.switch-size').magnificPopup({\r\n        type: 'inline'\r\n    });\r\n\r\n\r\n});\r\n\r\n\r\n\r\nfunction copyId() {\r\n    var productId = document.getElementById('idProduct');\r\n    productId.select();\r\n    productId.setSelectionRange(0, 99999)\r\n    document.execCommand(\"copy\");\r\n    alert(\"Вы скопировали тект: \" + productId.value);\r\n}\r\n\r\n$(window).on('load resize', function() {\r\n\r\n    var width = $(window).width();\r\n\r\n    if (width > '700') {\r\n\r\n    }\r\n\r\n    if (width < '700') {\r\n\r\n    }\r\n\r\n});"]}